<div class="rule-details-expanded" id="rule-container">
    <div class="detail-header">
        <h2>{{ rule.name }}</h2>
        <p>{{ rule.description }}</p>
    </div>

    <div id="condition-form-container" class="condition-form-container"></div>

    <div class="conditions-section">
        <h5>Rule Tree</h5>
        <div id="rule-tree" class="rule-tree">
            {{ tree_html|safe }}
        </div>
    </div>

    <div class="validation-section">
        <button 
            class="btn btn-secondary"
            hx-post="/rule/validate"
            hx-target="#validation-result-{{ rule_id }}"
            hx-swap="innerHTML">
            Validate Rule
        </button>
        <div id="validation-result-{{ rule_id }}"></div>
    </div>

    <div class="ast-preview">
        <h5>AST Preview (JSON)</h5>
        <div id="ast-preview-{{ rule_id }}">
            <pre><code>{{ rule_json }}</code></pre>
        </div>
    </div>
</div>

